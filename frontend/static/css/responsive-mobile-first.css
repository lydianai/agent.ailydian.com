/**
 * Lydian Agent - Advanced Responsive Mobile-First Framework
 * Ultra-Premium Responsive Design with Latest Technologies
 *
 * Features:
 * - CSS Grid & Flexbox Advanced Layouts
 * - Container Queries (Latest CSS)
 * - Dynamic Viewport Units (dvh, svh, lvh)
 * - Clamp() for Fluid Typography
 * - CSS Custom Properties for Theming
 * - Touch-optimized interactions
 * - Hardware-accelerated animations
 * - Reduced motion support
 * - Dark mode optimized
 */

/* ============================================
   1. CSS CUSTOM PROPERTIES - RESPONSIVE TOKENS
   ============================================ */

:root {
    /* Fluid Typography - Responsive Font Sizes using clamp() */
    --font-size-xs: clamp(0.75rem, 0.7rem + 0.25vw, 0.875rem);
    --font-size-sm: clamp(0.875rem, 0.8rem + 0.375vw, 1rem);
    --font-size-base: clamp(1rem, 0.9rem + 0.5vw, 1.125rem);
    --font-size-lg: clamp(1.125rem, 1rem + 0.625vw, 1.25rem);
    --font-size-xl: clamp(1.25rem, 1.1rem + 0.75vw, 1.5rem);
    --font-size-2xl: clamp(1.5rem, 1.3rem + 1vw, 1.875rem);
    --font-size-3xl: clamp(1.875rem, 1.5rem + 1.875vw, 2.25rem);
    --font-size-4xl: clamp(2.25rem, 1.8rem + 2.25vw, 3rem);
    --font-size-5xl: clamp(3rem, 2.4rem + 3vw, 3.75rem);
    --font-size-6xl: clamp(3.75rem, 3rem + 3.75vw, 4.5rem);

    /* Fluid Spacing - Responsive Margins & Paddings */
    --space-xs: clamp(0.25rem, 0.2rem + 0.25vw, 0.5rem);
    --space-sm: clamp(0.5rem, 0.4rem + 0.5vw, 0.75rem);
    --space-md: clamp(0.75rem, 0.6rem + 0.75vw, 1rem);
    --space-lg: clamp(1rem, 0.8rem + 1vw, 1.5rem);
    --space-xl: clamp(1.5rem, 1.2rem + 1.5vw, 2rem);
    --space-2xl: clamp(2rem, 1.6rem + 2vw, 3rem);
    --space-3xl: clamp(3rem, 2.4rem + 3vw, 4rem);
    --space-4xl: clamp(4rem, 3.2rem + 4vw, 6rem);
    --space-5xl: clamp(6rem, 4.8rem + 6vw, 8rem);

    /* Responsive Container Widths */
    --container-xs: 20rem;      /* 320px */
    --container-sm: 24rem;      /* 384px */
    --container-md: 28rem;      /* 448px */
    --container-lg: 32rem;      /* 512px */
    --container-xl: 36rem;      /* 576px */
    --container-2xl: 42rem;     /* 672px */
    --container-3xl: 48rem;     /* 768px */
    --container-4xl: 56rem;     /* 896px */
    --container-5xl: 64rem;     /* 1024px */
    --container-6xl: 72rem;     /* 1152px */
    --container-7xl: 80rem;     /* 1280px */
    --container-full: 100%;

    /* Touch Target Sizes (WCAG AAA) */
    --touch-target-min: 44px;
    --touch-target-comfortable: 48px;
    --touch-target-large: 56px;

    /* Safe Areas for Mobile Notch/Buttons */
    --safe-area-inset-top: env(safe-area-inset-top);
    --safe-area-inset-right: env(safe-area-inset-right);
    --safe-area-inset-bottom: env(safe-area-inset-bottom);
    --safe-area-inset-left: env(safe-area-inset-left);

    /* Dynamic Viewport Units */
    --vh-small: 100svh;   /* Small viewport */
    --vh-large: 100lvh;   /* Large viewport */
    --vh-dynamic: 100dvh; /* Dynamic viewport */

    /* Grid & Layout */
    --grid-columns-mobile: 4;
    --grid-columns-tablet: 8;
    --grid-columns-desktop: 12;
    --grid-gap: clamp(1rem, 2vw, 2rem);

    /* Z-index Scale */
    --z-base: 0;
    --z-dropdown: 1000;
    --z-sticky: 1020;
    --z-fixed: 1030;
    --z-modal-backdrop: 1040;
    --z-modal: 1050;
    --z-popover: 1060;
    --z-tooltip: 1070;
    --z-toast: 1080;
}

/* ============================================
   2. RESET & BASE STYLES - MOBILE-FIRST
   ============================================ */

*,
*::before,
*::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    /* Base font-size for rem calculations */
    font-size: 16px;

    /* Smooth scrolling with reduced motion support */
    scroll-behavior: smooth;

    /* Prevent text size adjustments on orientation change (iOS) */
    -webkit-text-size-adjust: 100%;
    -moz-text-size-adjust: 100%;
    text-size-adjust: 100%;

    /* Better font rendering */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
}

@media (prefers-reduced-motion: reduce) {
    html {
        scroll-behavior: auto;
    }

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

body {
    min-height: var(--vh-dynamic);
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    font-size: var(--font-size-base);
    line-height: 1.6;
    color: var(--text-primary);
    background: var(--dark-bg);
    overflow-x: hidden;

    /* iOS Safari padding for notch */
    padding-top: var(--safe-area-inset-top);
    padding-right: var(--safe-area-inset-right);
    padding-bottom: var(--safe-area-inset-bottom);
    padding-left: var(--safe-area-inset-left);

    /* Touch optimization */
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
}

/* ============================================
   3. RESPONSIVE CONTAINERS
   ============================================ */

.container {
    width: 100%;
    margin-left: auto;
    margin-right: auto;
    padding-left: var(--space-lg);
    padding-right: var(--space-lg);
}

/* Mobile First - Default (320px+) */
.container {
    max-width: var(--container-full);
}

/* Small devices (384px+) */
@media (min-width: 384px) {
    .container {
        max-width: var(--container-sm);
    }
}

/* Medium devices (448px+) */
@media (min-width: 448px) {
    .container {
        max-width: var(--container-md);
    }
}

/* Tablet (640px+) */
@media (min-width: 640px) {
    .container {
        max-width: var(--container-2xl);
    }
}

/* Large Tablet (768px+) */
@media (min-width: 768px) {
    .container {
        max-width: var(--container-3xl);
    }
}

/* Desktop (1024px+) */
@media (min-width: 1024px) {
    .container {
        max-width: var(--container-5xl);
    }
}

/* Large Desktop (1280px+) */
@media (min-width: 1280px) {
    .container {
        max-width: var(--container-7xl);
    }
}

/* XL Desktop (1536px+) */
@media (min-width: 1536px) {
    .container {
        max-width: var(--container-7xl);
    }
}

/* Container Variants */
.container-fluid {
    width: 100%;
    padding-left: var(--space-lg);
    padding-right: var(--space-lg);
}

.container-narrow {
    max-width: var(--container-3xl);
}

.container-wide {
    max-width: 90%;
}

/* ============================================
   4. RESPONSIVE GRID SYSTEM (CSS Grid)
   ============================================ */

.grid {
    display: grid;
    gap: var(--grid-gap);
}

/* Mobile First - 1 column default */
.grid {
    grid-template-columns: repeat(1, minmax(0, 1fr));
}

/* Tablet - 2 columns */
@media (min-width: 640px) {
    .grid-cols-sm-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }
}

/* Large Tablet - 3 columns */
@media (min-width: 768px) {
    .grid-cols-md-3 {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }
}

/* Desktop - 4 columns */
@media (min-width: 1024px) {
    .grid-cols-lg-4 {
        grid-template-columns: repeat(4, minmax(0, 1fr));
    }
}

/* Auto-fit responsive grid */
.grid-auto-fit {
    grid-template-columns: repeat(auto-fit, minmax(min(100%, 280px), 1fr));
}

.grid-auto-fill {
    grid-template-columns: repeat(auto-fill, minmax(min(100%, 280px), 1fr));
}

/* ============================================
   5. FLEXBOX UTILITIES - MOBILE FIRST
   ============================================ */

.flex {
    display: flex;
}

.flex-col {
    flex-direction: column;
}

.flex-wrap {
    flex-wrap: wrap;
}

.items-center {
    align-items: center;
}

.justify-center {
    justify-content: center;
}

.justify-between {
    justify-content: space-between;
}

.gap-sm { gap: var(--space-sm); }
.gap-md { gap: var(--space-md); }
.gap-lg { gap: var(--space-lg); }
.gap-xl { gap: var(--space-xl); }

/* Responsive Flex Direction */
@media (min-width: 768px) {
    .md\:flex-row {
        flex-direction: row;
    }
}

/* ============================================
   6. TYPOGRAPHY - FLUID & RESPONSIVE
   ============================================ */

h1, h2, h3, h4, h5, h6 {
    font-family: 'Orbitron', 'Inter', sans-serif;
    font-weight: 700;
    line-height: 1.2;
    letter-spacing: -0.02em;
    margin-bottom: var(--space-md);
}

h1 {
    font-size: var(--font-size-4xl);
    line-height: 1.1;
}

h2 {
    font-size: var(--font-size-3xl);
}

h3 {
    font-size: var(--font-size-2xl);
}

h4 {
    font-size: var(--font-size-xl);
}

h5 {
    font-size: var(--font-size-lg);
}

h6 {
    font-size: var(--font-size-base);
}

p {
    margin-bottom: var(--space-md);
    max-width: 65ch; /* Optimal reading width */
}

/* Desktop Typography Enhancements */
@media (min-width: 1024px) {
    h1 {
        font-size: var(--font-size-6xl);
    }
}

/* ============================================
   7. RESPONSIVE IMAGES & MEDIA
   ============================================ */

img,
picture,
video,
canvas,
svg {
    display: block;
    max-width: 100%;
    height: auto;
}

/* Aspect Ratio Utilities */
.aspect-square {
    aspect-ratio: 1 / 1;
}

.aspect-video {
    aspect-ratio: 16 / 9;
}

.aspect-portrait {
    aspect-ratio: 3 / 4;
}

/* Object Fit */
.object-cover {
    object-fit: cover;
}

.object-contain {
    object-fit: contain;
}

/* ============================================
   8. TOUCH-OPTIMIZED BUTTONS & INTERACTIVE ELEMENTS
   ============================================ */

button,
[role="button"],
.btn {
    /* Minimum touch target size (WCAG AAA) */
    min-height: var(--touch-target-min);
    min-width: var(--touch-target-min);

    /* Touch optimization */
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
    cursor: pointer;

    /* Typography */
    font-family: inherit;
    font-size: var(--font-size-base);
    font-weight: 600;
    line-height: 1;
    text-align: center;
    text-decoration: none;

    /* Layout */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    padding: var(--space-md) var(--space-xl);

    /* Style */
    border: 2px solid transparent;
    border-radius: 12px;
    background: var(--gradient-lydian);
    color: white;

    /* Animation */
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

    /* Accessibility */
    user-select: none;
}

button:hover,
[role="button"]:hover,
.btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 30px rgba(255, 0, 51, 0.3);
}

button:active,
[role="button"]:active,
.btn:active {
    transform: translateY(0);
}

/* Large Touch Targets for Mobile */
@media (max-width: 768px) {
    button,
    [role="button"],
    .btn {
        min-height: var(--touch-target-comfortable);
        padding: var(--space-lg) var(--space-2xl);
        font-size: var(--font-size-lg);
    }
}

/* ============================================
   9. NAVIGATION - MOBILE FIRST
   ============================================ */

nav {
    position: sticky;
    top: 0;
    z-index: var(--z-sticky);
    width: 100%;
    background: rgba(10, 10, 15, 0.9);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-bottom: 1px solid rgba(255, 0, 51, 0.1);
}

.nav-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-md) var(--space-lg);
    min-height: var(--touch-target-large);
}

/* Mobile Menu Toggle */
.mobile-menu-toggle {
    display: flex;
    min-height: var(--touch-target-min);
    min-width: var(--touch-target-min);
}

@media (min-width: 1024px) {
    .mobile-menu-toggle {
        display: none;
    }
}

/* Desktop Navigation */
@media (max-width: 1023px) {
    .nav-links {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: var(--vh-dynamic);
        background: rgba(10, 10, 15, 0.98);
        backdrop-filter: blur(30px);
        transform: translateX(-100%);
        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        padding: var(--space-3xl) var(--space-xl);
        overflow-y: auto;
    }

    .nav-links.active {
        transform: translateX(0);
    }
}

@media (min-width: 1024px) {
    .nav-links {
        display: flex;
        gap: var(--space-xl);
    }
}

/* ============================================
   10. CARDS & COMPONENTS - RESPONSIVE
   ============================================ */

.card {
    background: rgba(19, 19, 24, 0.9);
    border: 1px solid rgba(255, 0, 51, 0.2);
    border-radius: 16px;
    padding: var(--space-xl);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

    /* Touch optimization */
    -webkit-tap-highlight-color: transparent;
}

.card:hover {
    border-color: rgba(255, 0, 51, 0.5);
    box-shadow: 0 20px 60px rgba(255, 0, 51, 0.2);
    transform: translateY(-4px);
}

/* Larger touch areas on mobile */
@media (max-width: 768px) {
    .card {
        padding: var(--space-2xl);
    }
}

/* ============================================
   11. UTILITY CLASSES - RESPONSIVE SPACING
   ============================================ */

/* Padding */
.p-xs { padding: var(--space-xs); }
.p-sm { padding: var(--space-sm); }
.p-md { padding: var(--space-md); }
.p-lg { padding: var(--space-lg); }
.p-xl { padding: var(--space-xl); }
.p-2xl { padding: var(--space-2xl); }

/* Margin */
.m-xs { margin: var(--space-xs); }
.m-sm { margin: var(--space-sm); }
.m-md { margin: var(--space-md); }
.m-lg { margin: var(--space-lg); }
.m-xl { margin: var(--space-xl); }
.m-2xl { margin: var(--space-2xl); }

/* Margin Auto */
.mx-auto {
    margin-left: auto;
    margin-right: auto;
}

/* Display */
.hidden { display: none; }
.block { display: block; }
.inline-block { display: inline-block; }

/* Responsive Display */
@media (max-width: 767px) {
    .hidden-mobile { display: none; }
}

@media (min-width: 768px) {
    .hidden-desktop { display: none; }
}

/* ============================================
   12. PERFORMANCE OPTIMIZATIONS
   ============================================ */

/* Hardware acceleration for animations */
.hw-accelerated {
    transform: translateZ(0);
    will-change: transform;
}

/* Contain paint for better performance */
.contain-paint {
    contain: paint;
}

/* ============================================
   13. ACCESSIBILITY - HIGH CONTRAST MODE
   ============================================ */

@media (prefers-contrast: high) {
    :root {
        --lydian-primary: #ff3366;
        --dark-bg: #000000;
        --text-primary: #ffffff;
    }

    .card {
        border-width: 2px;
    }
}

/* ============================================
   14. PRINT STYLES
   ============================================ */

@media print {
    body {
        background: white;
        color: black;
    }

    nav,
    .mobile-menu-toggle,
    .glow-effect {
        display: none;
    }
}

/* ============================================
   15. LANDSCAPE ORIENTATION OPTIMIZATIONS
   ============================================ */

@media (orientation: landscape) and (max-height: 600px) {
    :root {
        --font-size-4xl: clamp(1.5rem, 3vw, 2.5rem);
        --font-size-3xl: clamp(1.25rem, 2.5vw, 2rem);
    }

    .nav-container {
        padding: var(--space-sm) var(--space-lg);
    }
}
